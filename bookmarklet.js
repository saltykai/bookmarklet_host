javascript:(async function(){function s(ms){return new Promise(r=>setTimeout(r,ms))}function SNV(el,val){var d=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");d?.set?d.set.call(el,val):el.value=val}function%20fire(el,t,i){el.dispatchEvent(new%20Event(t,Object.assign({bubbles:1},i||{})))}function%20focusAway(f){var%20b=document.createElement(%22button%22);b.type=%22button%22;b.style=%22position:fixed;left:-9999px;top:-9999px%22;b.tabIndex=0;b.textContent=%22.%22;document.body.appendChild(b);try{b.focus()}catch{}try{f.blur()}catch{}try{f.dispatchEvent(new%20FocusEvent(%22focusout%22,{bubbles:1}))}catch{var%20e=document.createEvent(%22Event%22);e.initEvent(%22focusout%22,1,0);f.dispatchEvent(e)}setTimeout(()=%3E{try{document.body.removeChild(b)}catch{}},80)}function%20selectHomeLightweight(){const%20labels=document.querySelectorAll(%22footer%20label.checkbox%22);for(const%20label%20of%20labels){const%20span=label.querySelector(%22.checkbox__label%22);if(span&&span.textContent.trim()===%22%E8%87%AA%E5%AE%85%22){const%20cb=label.querySelector(%22input[type=%27checkbox%27]%22);if(cb&&!cb.checked){label.scrollIntoView({block:%22center%22});label.click();fire(cb,%22input%22);fire(cb,%22change%22);focusAway(cb);}break}}}function%20toHHMM(val){val=Number(val);if(isNaN(val)||val%3C=0)return%22%22;let%20h=Math.floor(val),m=Math.round((val-h)*60);if(m===60){h+=1;m=0}return%20String(h).padStart(2,%220%22)+String(m).padStart(2,%220%22)}selectHomeLightweight();try{const%20spans=document.querySelectorAll(%27span%27);const%20codes=[];spans.forEach(span=%3E{const%20text=span.textContent.trim();if(/^[A-Z0-9]{4,12}$/.test(text)){codes.push(text);}});if(codes.length%3C=1){alert(%22%E3%83%81%E3%83%A3%E3%83%BC%E3%82%B8%E3%82%B3%E3%83%BC%E3%83%89%E3%81%8C%E5%8D%81%E5%88%86%E3%81%AB%E8%A6%8B%E3%81%A4%E3%81%8B%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%81%A7%E3%81%97%E3%81%9F%E3%80%82%22);return;}const%20filteredCodes=codes.slice(1);const%20existing=document.getElementById(%22chargeCodeTable%22);if(existing){existing.remove();}const%20container=document.createElement(%22div%22);container.id=%22chargeCodeTable%22;container.style.position=%22fixed%22;container.style.top=%2220px%22;container.style.left=%2250%%22;container.style.transform=%22translateX(-50%)%22;container.style.zIndex=%229999%22;container.style.backgroundColor=%22#fff%22;container.style.padding=%2212px%22;container.style.border=%221px%20solid%20#ccc%22;container.style.boxShadow=%220%202px%206px%20rgba(0,0,0,0.2)%22;container.style.maxHeight=%2280vh%22;container.style.overflowY=%22auto%22;const%20title=document.createElement(%22div%22);title.textContent=%22%E5%8B%A4%E5%8B%99%E6%99%82%E9%96%93%E8%87%AA%E5%8B%95%E5%85%A5%E5%8A%9B%22;title.style.textAlign=%22center%22;title.style.fontWeight=%22bold%22;title.style.fontSize=%2216px%22;title.style.marginBottom=%2212px%22;container.appendChild(title);const%20style=document.createElement(%22style%22);style.textContent=%22#chargeCodeTable%20button{background:#fff;color:#007BFF;font-weight:bold;border:1px%20solid%20#007BFF;border-radius:4px;padding:8px%2016px;font-size:14px;cursor:pointer}#chargeCodeTable%20button:hover{background:#007BFF;color:#fff}#chargeCodeTable%20input::placeholder{color:#aaa}%22;document.head.appendChild(style);const%20table=document.createElement(%22table%22);table.style.borderCollapse=%22collapse%22;table.style.width=%22100%%22;table.style.fontSize=%2214px%22;table.style.textAlign=%22center%22;const%20thead=document.createElement(%22thead%22);const%20headerRow=document.createElement(%22tr%22);[%22%E3%83%81%E3%83%A3%E3%83%BC%E3%82%B8%E3%82%B3%E3%83%BC%E3%83%89%22,%22%E9%96%A2%E4%B8%8E%E6%99%82%E9%96%93%22].forEach(text=%3E{const%20th=document.createElement(%22th%22);th.textContent=text;th.style.border=%221px%20solid%20#ccc%22;th.style.padding=%226px%22;th.style.backgroundColor=%22#006400%22;th.style.color=%22#fff%22;th.style.fontWeight=%22bold%22;th.style.textAlign=%22center%22;headerRow.appendChild(th)});thead.appendChild(headerRow);table.appendChild(thead);const%20tbody=document.createElement(%22tbody%22);const%20inputs={};filteredCodes.forEach((code,i)=%3E{const%20row=document.createElement(%22tr%22);const%20tdCode=document.createElement(%22td%22);tdCode.textContent=code;tdCode.style.border=%221px%20solid%20#ccc%22;tdCode.style.padding=%226px%22;tdCode.style.textAlign=%22center%22;const%20tdInput=document.createElement(%22td%22);tdInput.style.border=%221px%20solid%20#ccc%22;tdInput.style.padding=%226px%22;tdInput.style.textAlign=%22center%22;const%20input=document.createElement(%22input%22);input.type=%22number%22;input.step=%220.25%22;input.min=%220%22;input.style.width=%2260px%22;if(i===0)input.placeholder=%223%22;else%20if(i===1)input.placeholder=%224.5%22;else%20if(i===2)input.placeholder=%226.25%22;inputs[code]=input;tdInput.appendChild(input);row.appendChild(tdCode);row.appendChild(tdInput);tbody.appendChild(row)});table.appendChild(tbody);container.appendChild(table);const%20btnWrap=document.createElement(%22div%22);btnWrap.style.textAlign=%22center%22;btnWrap.style.marginTop=%2212px%22;const%20btn=document.createElement(%22button%22);btn.textContent=%22%E5%85%A5%E5%8A%9B%E5%AE%9F%E8%A1%8C%22;btnWrap.appendChild(btn);container.appendChild(btnWrap);btn.onclick=async()=%3E{let%20totalMinutes=0;for(const%20code%20of%20filteredCodes){const%20val=toHHMM(Number(inputs[code].value));if(!val)continue;const%20mins=Number(inputs[code].value)*60;if(!isNaN(mins))totalMinutes+=Math.round(mins);try{const%20inp=document.evaluate(%22(//span[normalize-space(.)='%22+code+%22']/ancestor::div[@data-testid='slot'][1]/following::div[@data-testid='time-picker'][1])//input[@data-testid='time-picker-input-area']%22,document,null,9,null).singleNodeValue;if(!inp)throw%22input%20not%20found%20for%20code:%20%22+code;inp.scrollIntoView({block:%22center%22});inp.focus();SNV(inp,val);fire(inp,%22input%22);fire(inp,%22change%22);focusAway(inp);await%20s(160)}catch(e){console.warn(e);alert(%22%E5%85%A5%E5%8A%9B%E5%A4%B1%E6%95%97:%20%22+code+%22\n%22+e)}}const%20timeInputs=document.querySelectorAll('input[data-testid=%22time-picker-input-area%22]');const%20startTimeInput=timeInputs.length%3E=1?timeInputs[0]:null;const%20endTimeInput=timeInputs.length%3E=2?timeInputs[1]:null;if(startTimeInput){startTimeInput.scrollIntoView({block:%22center%22});startTimeInput.focus();SNV(startTimeInput,%220900%22);fire(startTimeInput,%22input%22);fire(startTimeInput,%22change%22);focusAway(startTimeInput);}const%20startHour=9,startMinute=0;let%20endTotal=startHour*60+startMinute+totalMinutes+60;let%20endHour=Math.floor(endTotal/60),endMinute=endTotal%60,isNextDay=endHour%3E=24;if(isNextDay)endHour-=24;const%20endTimeStr=String(endHour).padStart(2,%220%22)+String(endMinute).padStart(2,%220%22);const%20checkboxes=document.querySelectorAll(%22label.checkbox%22);const%20nextDayCheckboxLabel=checkboxes.length%3E=2?checkboxes[1]:null;const%20nextDayCheckbox=nextDayCheckboxLabel?.querySelector(%22input[type='checkbox']%22);if(isNextDay&&nextDayCheckbox&&!nextDayCheckbox.checked){nextDayCheckboxLabel.scrollIntoView({block:%22center%22});nextDayCheckboxLabel.click();fire(nextDayCheckbox,%22input%22);fire(nextDayCheckbox,%22change%22);focusAway(nextDayCheckbox);}if(endTimeInput){endTimeInput.scrollIntoView({block:%22center%22});endTimeInput.focus();SNV(endTimeInput,endTimeStr);fire(endTimeInput,%22input%22);fire(endTimeInput,%22change%22);focusAway(endTimeInput);}else{alert(%22%E7%B5%82%E4%BA%86%E6%99%82%E5%88%BB%E3%81%AE%E5%85%A5%E5%8A%9B%E3%83%95%E3%82%A3%E3%83%BC%E3%83%AB%E3%83%89%E3%81%8C%E8%A6%8B%E3%81%A4%E3%81%8B%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%81%A7%E3%81%97%E3%81%9F%E3%80%82%22);}};document.body.appendChild(container);}catch(e){alert(%22%E3%82%A8%E3%83%A9%E3%83%BC:%20%22+e.message)}})();
